# =============================================================================
# Server-Side API Configuration (NOT exposed to browser)
# =============================================================================
# These variables are used by Next.js API routes to communicate with external services
# They are ONLY available on the server and never sent to the client

# Storage Service API (Cavern)
SERVICE_STORAGE_API=https://ws-uv.canfar.net/arc/nodes/home/

# Login/Authentication API (AC) - Used when NEXT_USE_CANFAR=true
LOGIN_API=https://ws-cadc.canfar.net/ac

# Skaha Platform API - Used when NEXT_USE_CANFAR=true
SKAHA_API=https://ws-uv.canfar.net/skaha

# SRC Skaha Platform API - Used when NEXT_USE_CANFAR=false (OIDC mode)
SRC_SKAHA_API=https://src.canfar.net/skaha

# SRC Cavern Storage API - Used when NEXT_USE_CANFAR=false (OIDC mode)
# NOTE: Must end with / for proper URL construction
SRC_CAVERN_API=https://src.canfar.net/cavern/nodes/home/

# API timeout in milliseconds
API_TIMEOUT=30000

# =============================================================================
# Client-Side Configuration (exposed to browser via NEXT_PUBLIC_ prefix)
# =============================================================================

# Login/Authentication API (fallback for client-side)
NEXT_PUBLIC_LOGIN_API=https://ws-cadc.canfar.net/ac

# Skaha Platform API - Used when NEXT_USE_CANFAR=true
NEXT_PUBLIC_SKAHA_API=https://ws-uv.canfar.net/skaha

# SRC Skaha Platform API - Used when NEXT_USE_CANFAR=false (OIDC mode)
NEXT_PUBLIC_SRC_SKAHA_API=https://src.canfar.net/skaha

# SRC Cavern Storage API - Used when NEXT_USE_CANFAR=false (OIDC mode)
NEXT_PUBLIC_SRC_CAVERN_API=https://src.canfar.net/cavern/nodes/home/

# Optional: API timeout in milliseconds
NEXT_PUBLIC_API_TIMEOUT=30000

# Optional: Enable React Query Devtools (development only)
NEXT_PUBLIC_ENABLE_QUERY_DEVTOOLS=true

# =============================================================================
# Authentication Configuration
# =============================================================================

# ======
# SWITCH: Choose authentication method
# ======
# Set to 'true' for CANFAR authentication (username/password)
# Set to 'false' for OIDC authentication (e.g., SKA IAM)
NEXT_USE_CANFAR=true
NEXT_PUBLIC_USE_CANFAR=true

# =======
# NextAuth Secret (Required for OIDC mode)
# =======
# Generate with: openssl rand -base64 32
# IMPORTANT: Change this to a secure random string in production!
AUTH_SECRET=

# =======
# NextAuth Trust Host (Required for production builds)
# =======
# For development/localhost, set to true
# For production, set to false and use NEXTAUTH_URL with your domain
AUTH_TRUST_HOST=true
NEXTAUTH_URL=http://localhost:3000

# =======
# OIDC Configuration (Used when NEXT_USE_CANFAR=false)
# =======
# OIDC Provider URI (must end with /)
NEXT_OIDC_URI=https://your-oidc-provider.com/

# OIDC Client ID (provided by your OIDC provider)
NEXT_OIDC_CLIENT_ID=

# OIDC Client Secret (provided by your OIDC provider)
NEXT_OIDC_CLIENT_SECRET=

# Callback URL (where users land after initial auth)
NEXT_OIDC_CALLBACK_URI=http://localhost:3000/science-portal

# Redirect URL (where OIDC processes the auth response)
NEXT_OIDC_REDIRECT_URI=http://localhost:3000/science-portal/oidc-callback

# OIDC Scopes (space-separated)
NEXT_OIDC_SCOPE=openid profile email offline_access

# Public versions (exposed to browser)
NEXT_PUBLIC_OIDC_URI=https://your-oidc-provider.com/
NEXT_PUBLIC_OIDC_CLIENT_ID=
NEXT_PUBLIC_OIDC_CALLBACK_URI=http://localhost:3000/science-portal
NEXT_PUBLIC_OIDC_REDIRECT_URI=http://localhost:3000/science-portal/oidc-callback
NEXT_PUBLIC_OIDC_SCOPE=openid profile email offline_access

# =============================================================================
# Experimental Features Configuration
# =============================================================================
# Enable experimental features (e.g., range sliders for resource selection)
NEXT_PUBLIC_EXPERIMENTAL=false

# =============================================================================
# Example Configuration for SKA IAM
# =============================================================================
# Uncomment and fill in these values if using SKA IAM:
#
# NEXT_OIDC_URI=https://ska-iam.stfc.ac.uk/
# NEXT_OIDC_CLIENT_ID=your-client-id
# NEXT_OIDC_CLIENT_SECRET=your-client-secret
# NEXT_OIDC_CALLBACK_URI=https://localhost:3000/science-portal
# NEXT_OIDC_REDIRECT_URI=https://localhost:3000/science-portal/oidc-callback
# NEXT_OIDC_SCOPE=openid profile offline_access
